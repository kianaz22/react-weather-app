(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{194:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),i=c(70),s=c.n(i),o=(c(86),c(6)),r=c(81),d=c(5),l=c(1),j=function(e){var t=e.city,c=e.handleChange,n=e.matches,i=e.handleClick,s=e.handleBlur,r=e.data,j=Object(a.useState)("no-border"),h=Object(o.a)(j,2),b=h[0],u=h[1];return Object(l.jsxs)("div",{className:"search-container",children:[Object(l.jsx)("button",{className:"search-button",onClick:function(){u("border"===b?"no-border":"border")},children:Object(l.jsx)(d.e,{className:"icon",size:15})}),Object(l.jsxs)("div",{className:"search",children:[Object(l.jsx)("input",{type:"text",value:t,placeholder:"".concat(r.location.name,", ").concat(r.location.country),className:b,onChange:function(e){return c(e.target.value)},onBlur:function(){return s()}}),Object(l.jsx)("button",{className:"clear-button",onClick:function(){return s()},children:Object(l.jsx)(d.g,{size:13})}),n&&Object(l.jsx)("div",{className:"matches-container",children:n.map((function(e,t){return Object(l.jsx)("div",{onClick:function(e){return i(e)},children:e.name},t)}))})]})]})},h=c(15),b=c.n(h),u=function(e){var t=e.data,c=e.tempUnit,a=t.forecast.forecastday[0],n=b()(t.location.localtime,"YYYY-MM-DD HH:mm").format("dddd, MMM DD, YYYY");return Object(l.jsxs)("div",{className:"current",children:[Object(l.jsxs)("div",{className:"temp",children:[Object(l.jsx)("div",{className:"icon",children:Object(l.jsx)("img",{src:t.current.condition.icon,alt:"icon"})}),Object(l.jsx)("div",{children:Object(l.jsxs)("h1",{children:[Math.round(t.current["temp_".concat(c)]),"\xb0",c.toUpperCase()]})})]}),Object(l.jsx)("div",{className:"condition",children:t.current.condition.text}),Object(l.jsx)("div",{className:"date",children:n}),Object(l.jsxs)("div",{className:"min-max",children:[Object(l.jsxs)("span",{children:[Object(l.jsx)(d.b,{})," ",Math.round(a.day["maxtemp_".concat(c)]),"\xb0"]}),"\xa0\xa0\xa0",Object(l.jsxs)("span",{children:[Object(l.jsx)(d.a,{})," ",Math.round(a.day["mintemp_".concat(c)]),"\xb0"]})]})]})},m=function(e){var t=e.data,c=e.tempUnit,a=t.forecast.forecastday[0].hour,n=t.forecast.forecastday[1].hour,i=b()(t.location.localtime,"YYYY-MM-DD HH:mm").format("HH");return Object(l.jsxs)("div",{className:"hourly-container",children:[Object(l.jsx)("h2",{children:"Hourly"}),Object(l.jsxs)("div",{className:"scroll-container",children:[Object(l.jsx)("button",{onClick:function(){document.querySelector(".hourly")&&(document.querySelector(".hourly").scrollLeft-=450)},children:Object(l.jsx)(d.c,{})}),Object(l.jsxs)("div",{className:"hourly",children:[a.map((function(e,t){return Object(l.jsxs)("div",{className:"hour",children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{alt:"condition",src:e.condition.icon})}),Object(l.jsxs)("div",{className:"temp",children:[Math.round(e["temp_".concat(c)]),"\xb0"]}),Object(l.jsx)("div",{className:"time",children:t===i?"Now":12===t?"12PM":t<12?t+"AM":t-12+"PM"})]},t)})).filter((function(e,t){return t>=i})),n.map((function(e,t){return Object(l.jsxs)("div",{className:"hour",children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{alt:"condition",src:e.condition.icon})}),Object(l.jsxs)("div",{className:"temp",children:[Math.round(e["temp_".concat(c)]),"\xb0"]}),Object(l.jsx)("div",{className:"time",children:12===t?"12PM":0===t?"12AM":t<12?t+"AM":t-12+"PM"})]},t)})).filter((function(e,t){return t<i}))]}),Object(l.jsx)("button",{onClick:function(){document.querySelector(".hourly")&&(document.querySelector(".hourly").scrollLeft+=450)},children:Object(l.jsx)(d.d,{})})]})]})},f=function(e){var t=e.data,c=e.tempUnit,a=t.forecast.forecastday.slice(1);a.push(t.forecast.forecastday[1]),a.push(t.forecast.forecastday[0]),a.push(t.forecast.forecastday[2]);var n=b()(t.location.localtime,"YYYY-MM-DD HH:mm");return Object(l.jsxs)("div",{className:"daily-container",children:[Object(l.jsx)("h2",{children:"Daily"}),Object(l.jsx)("div",{className:"daily",children:a.map((function(e,t){return Object(l.jsxs)("div",{className:"day",children:[Object(l.jsx)("div",{className:"icon",children:Object(l.jsx)("img",{alt:"condition",src:e.day.condition.icon})}),Object(l.jsxs)("div",{className:"date-and-condition",children:[Object(l.jsx)("div",{className:"date",children:n.clone().add(t+1,"d").format("dddd")}),Object(l.jsx)("div",{className:"condition",children:e.day.condition.text})]}),Object(l.jsxs)("div",{className:"rain",style:{visibility:e.day.daily_chance_of_rain>0?"visible":"hidden"},children:[Object(l.jsx)(d.h,{className:"rain"}),e.day.daily_chance_of_rain,"%"]}),Object(l.jsxs)("div",{className:"min-max",children:[Object(l.jsxs)("span",{children:[Math.round(e.day["mintemp_".concat(c)]),"\xb0"]}),"\xa0",Math.round(e.day["maxtemp_".concat(c)]),"\xb0"]})]},t)}))})]})},x=function(e){var t=e.icon,c=e.data,a=e.text,n=e.bgColor;return Object(l.jsxs)("div",{className:"condition",children:[Object(l.jsx)("div",{className:"icon-wrapper",style:{backgroundColor:n},children:t}),Object(l.jsxs)("div",{className:"condition-data",children:[Object(l.jsx)("div",{children:c}),Object(l.jsx)("div",{className:"label",children:a})]})]})},O=c(80),p=function(e){var t=e.color,c=e.value,a=e.Particle;return Object(l.jsxs)("div",{className:"particle",children:[Object(l.jsx)("div",{style:{fontSize:"1.2em",borderBottom:"2px solid ".concat(t)},children:c}),Object(l.jsx)("div",{children:a})]})},v=function(e){var t=e.quality,c=t.aqi?t.aqi:"-",a=t.iaqi.pm25?t.iaqi.pm25.v:"-",n=t.iaqi.pm10?t.iaqi.pm10.v:"-",i=t.iaqi.co?t.iaqi.co.v:"-",s=t.iaqi.no2?t.iaqi.no2.v:"-",o=t.iaqi.o3?t.iaqi.o3.v:"-",r=function(e){return e<51?["Good","Air quality is satisfactory, and air pollution poses little or no risk."]:e<101?["Moderate","Air quality is acceptable. However, there may be a risk for some people, particularly those who are unusually sensitive to air pollution."]:e<151?["Unhealthy for sensitive groups","Members of sensitive groups may experience health effects. The general public is less likely to be affected."]:e<201?["Unhealthy","Some members of the general public may experience health effects; members of sensitive groups may experience more serious health effects."]:e<301?["Very Unhealthy","Health alert: The risk of health effects is increased for everyone."]:["Air quality index for this city is not available right now","Data not available"]},d=function(e){return e<51?"#1cb422":e<101?"rgb(254,254,0)":e<151?"rgb(255,126,0)":e<201?"rgb(255,21,21)":e<301?"rgb(176,58,117)":"rgba(0,0,0,.4)"},j={datasets:[{data:[1,1,1,1,1,1],backgroundColor:["white","Good"===r(c)[0]?"#1cb422":"#f3f3f3","Moderate"===r(c)[0]?"rgb(254,254,0)":"#f3f3f3","Unhealthy for sensitive groups"===r(c)[0]?"rgb(255,126,0)":"#f3f3f3","Unhealthy"===r(c)[0]?"rgb(255,21,21)":"#f3f3f3","Very Unhealthy"===r(c)[0]?"rgb(176,58,117)":"#f3f3f3"],borderWidth:0,rotation:150}]};return Object(l.jsxs)("div",{className:"air-quality-container",children:[Object(l.jsx)("h2",{children:"Air Quality"}),Object(l.jsxs)("div",{className:"air-quality",children:[Object(l.jsxs)("div",{className:"quality-index",children:[Object(l.jsxs)("div",{className:"icon-wrapper",children:[Object(l.jsx)(O.a,{data:j,options:{cutout:"85%",events:[],plugins:{tooltip:{enabled:!1}}}}),Object(l.jsxs)("div",{className:"donut-overlay",children:[Object(l.jsx)("div",{className:"index",children:c}),Object(l.jsx)("div",{className:"label",children:"AQI"})]})]}),Object(l.jsxs)("div",{className:"index-data",children:[Object(l.jsx)("div",{className:"index-label",children:r(c)[0]}),Object(l.jsx)("div",{className:"index-text",children:r(c)[1]})]})]}),Object(l.jsxs)("div",{className:"particles",children:[Object(l.jsx)(p,{Particle:"pm25",value:a,color:d(a)}),Object(l.jsx)(p,{Particle:"pm10",value:n,color:function(e){return e<40?"#1cb422":e<80?"rgb(254,254,0)":e<120?"rgb(255,126,0)":e<300?"rgb(255,21,21)":e>300?"rgb(176,58,117)":"rgba(0,0,0,.4)"}(n)}),Object(l.jsx)(p,{Particle:"no2",value:s,color:d(s)}),Object(l.jsx)(p,{Particle:"O3",value:o,color:d(o)}),Object(l.jsx)(p,{Particle:"CO",value:i,color:function(e){return e<9?"#1cb422":e<10?"rgb(254,254,0)":e>=10?"rgb(176,58,117)":"rgba(0,0,0,.4)"}(i)})]})]})]})},y=c(48),g=c(49),N=function(e){var t=e.data,c={aqi:"-",iaqi:{co:{v:"-"},o3:{v:"-"},no2:{v:"-"},pm10:{v:"-"},pm25:{v:"-"}}},n=t.forecast.forecastday[0],i=Object(a.useState)(c),s=Object(o.a)(i,2),r=s[0],j=s[1];return Object(a.useEffect)((function(){fetch("https://api.waqi.info/feed/".concat(t.location.name,"/?token=59279c91ec4c2ff95a7957e57269b2540e194f9a")).then((function(e){return e.json()})).then((function(e){"object"===typeof e.data?j(e.data):fetch("https://api.waqi.info/feed/".concat(t.location.region,"/?token=59279c91ec4c2ff95a7957e57269b2540e194f9a")).then((function(e){return e.json()})).then((function(e){"object"===typeof e.data?j(e.data):j(c)}))}))}),[t]),Object(l.jsxs)("div",{className:"conditions-container",children:[Object(l.jsx)("h2",{children:"Conditions"}),Object(l.jsxs)("div",{className:"conditions",children:[Object(l.jsx)(x,{icon:Object(l.jsx)(d.i,{size:18,style:{color:"#42cc6a"}}),data:"".concat(Math.round(t.current.wind_kph)," km/h"),text:"Wind",bgColor:"#aff5b1"}),Object(l.jsx)(x,{icon:Object(l.jsx)(y.b,{size:30,style:{color:"#43a4e4"}}),data:"".concat(n.day.daily_chance_of_rain,"%"),text:"Rain",bgColor:"#add6f5"}),Object(l.jsx)(x,{icon:Object(l.jsx)(y.a,{size:30,color:"#adafb6"}),data:"".concat(t.current.humidity,"%"),text:"Humidity",bgColor:"#eeeeee"}),Object(l.jsx)(x,{icon:Object(l.jsx)(d.f,{size:20,color:"#ddb458"}),data:t.current.uv,text:"UV Index",bgColor:"#f7ddac"}),Object(l.jsx)(x,{icon:Object(l.jsx)(g.a,{size:30,color:"#E68319"}),data:n.astro.sunrise.slice(0,5),text:"Sunrise"}),Object(l.jsx)(x,{icon:Object(l.jsx)(g.b,{size:30,color:"#F2A807"}),data:n.astro.sunset.slice(0,5),text:"Sunset"}),Object(l.jsx)(v,{quality:r})]})]})};var q=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(""),s=Object(o.a)(i,2),d=s[0],h=s[1],b=Object(a.useState)([]),x=Object(o.a)(b,2),O=x[0],p=x[1],v=Object(a.useState)("c"),y=Object(o.a)(v,2),g=y[0],q=y[1];Object(a.useEffect)((function(){var e=function(){C("tehran")};navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){M(e.coords.latitude,e.coords.longitude)}),(function(t){console.error(t),e()}),{enableHighAccuracy:!0}):e()}),[]);var C=function(e){fetch("https://weatherapi-com.p.rapidapi.com/forecast.json?q=".concat(e,"&days=3"),{method:"GET",headers:{"x-rapidapi-key":"3927819375mshd44cfb360819a63p12aeabjsn863dc422f8df","x-rapidapi-host":"weatherapi-com.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){h(e)})).catch((function(e){console.error(e)}))},M=function(e,t){fetch("https://weatherapi-com.p.rapidapi.com/forecast.json?q=".concat(e,"%2C").concat(t,"&days=3"),{method:"GET",headers:{"x-rapidapi-key":"3927819375mshd44cfb360819a63p12aeabjsn863dc422f8df","x-rapidapi-host":"weatherapi-com.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){h(e)}))};return d?Object(l.jsxs)("div",{className:"app",children:[Object(l.jsxs)("div",{className:"background",children:[Object(l.jsxs)("header",{children:[Object(l.jsx)(j,{data:d,city:c,matches:O,handleBlur:function(e){n(""),setTimeout((function(){p([])}),200)},handleChange:function(e){e.length>3?fetch("https://weatherapi-com.p.rapidapi.com/search.json?q=".concat(e),{method:"GET",headers:{"x-rapidapi-key":"3927819375mshd44cfb360819a63p12aeabjsn863dc422f8df","x-rapidapi-host":"weatherapi-com.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){p(e)})):p([]),n(e)},handleClick:function(e){n(e.target.textContent),C(e.target.textContent),p([]),setTimeout((function(){n("")}),2e3)}}),Object(l.jsxs)("div",{className:"temp-unit",children:[Object(l.jsx)("button",{className:"f"===g?"active":"",onClick:function(){return q("f")},children:"F"}),Object(l.jsx)("button",{className:"c"===g?"active":"",onClick:function(){return q("c")},children:"C"})]})]}),Object(l.jsx)(u,{data:d,tempUnit:g})]}),Object(l.jsxs)("div",{className:"data",children:[Object(l.jsx)(m,{data:d,tempUnit:g}),Object(l.jsxs)("div",{className:"flex-wrapper",children:[Object(l.jsx)(f,{data:d,tempUnit:g}),Object(l.jsx)(N,{data:d,tempUnit:g})]})]})]}):Object(l.jsx)("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(l.jsx)(r.a,{size:100})})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,195)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(q,{})}),document.getElementById("root")),C()},86:function(e,t,c){}},[[194,1,2]]]);
//# sourceMappingURL=main.2528ebcb.chunk.js.map