(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{178:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),i=c(62),r=c.n(i),o=(c(70),c(4)),s=c(3),d=c(1),l=function(e){var t=e.city,c=e.handleChange,a=e.matches,i=e.handleClick,r=e.handleBlur,l=e.data,j=Object(n.useState)("zero"),b=Object(o.a)(j,2),h=b[0],u=b[1];return Object(d.jsxs)("div",{className:"search-container",children:[Object(d.jsx)("button",{className:"search-button",onClick:function(){u("full"===h?"zero":"full")},children:Object(d.jsx)(s.e,{className:"icon",size:15})}),Object(d.jsxs)("div",{className:"search",children:[Object(d.jsx)("input",{type:"text",value:t,placeholder:"".concat(l.location.name,", ").concat(l.location.country),className:h,onChange:function(e){return c(e.target.value)},onBlur:function(){return r()}}),Object(d.jsx)("button",{className:"clear-button",onClick:function(){return r()},children:Object(d.jsx)(s.g,{size:13})}),a&&Object(d.jsx)("div",{className:"matches-container",children:a.map((function(e,t){return Object(d.jsx)("div",{onClick:function(e){return i(e)},children:e.name},t)}))})]})]})},j=c(13),b=c.n(j),h=function(e){var t=e.data,c=e.tempUnit,n=t.forecast.forecastday[0].hour,a=t.forecast.forecastday[1].hour,i=b()(t.location.localtime,"YYYY-MM-DD HH:mm").format("HH");return Object(d.jsxs)("div",{className:"hourly-container",children:[Object(d.jsx)("h2",{children:"Hourly"}),Object(d.jsxs)("div",{className:"scroll-container",children:[Object(d.jsx)("button",{onClick:function(){document.querySelector(".hourly")&&(document.querySelector(".hourly").scrollLeft-=450)},children:Object(d.jsx)(s.c,{})}),Object(d.jsxs)("div",{className:"hourly",children:[n.map((function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{alt:"condition",src:e.condition.icon})}),Object(d.jsxs)("div",{children:[Math.round(e["temp_".concat(c)]),"\xb0"]}),Object(d.jsx)("div",{children:t==i?"Now":12===t?"12PM":t<12?t+"AM":t-12+"PM"})]},t)})).filter((function(e,t){return t>=i})),a.map((function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{alt:"condition",src:e.condition.icon})}),Object(d.jsxs)("div",{children:[Math.round(e["temp_".concat(c)]),"\xb0"]}),Object(d.jsx)("div",{children:12===t?"12PM":0===t?"12AM":t<12?t+"AM":t-12+"PM"})]},t)})).filter((function(e,t){return t<i}))]}),Object(d.jsx)("button",{onClick:function(){document.querySelector(".hourly")&&(document.querySelector(".hourly").scrollLeft+=450)},children:Object(d.jsx)(s.d,{})})]})]})},u=function(e){var t=e.data,c=e.tempUnit,n=t.forecast.forecastday.slice(1);n.push(t.forecast.forecastday[1]),n.push(t.forecast.forecastday[0]),n.push(t.forecast.forecastday[2]);var a=b()(t.location.localtime,"YYYY-MM-DD HH:mm");return Object(d.jsxs)("div",{className:"daily-container",children:[Object(d.jsx)("h2",{children:"Daily"}),Object(d.jsx)("div",{className:"daily",children:n.map((function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"left",children:Object(d.jsx)("img",{alt:"condition",src:e.day.condition.icon})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:a.clone().add(t+1,"d").format("dddd")}),Object(d.jsx)("div",{className:"condition",children:e.day.condition.text})]}),Object(d.jsxs)("div",{style:{visibility:e.day.daily_chance_of_rain>0?"visible":"hidden"},children:[Object(d.jsx)(s.h,{className:"rain"}),e.day.daily_chance_of_rain,"%"]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{className:"transparent",children:[Math.round(e.day["mintemp_".concat(c)]),"\xb0"]}),"/",Math.round(e.day["maxtemp_".concat(c)]),"\xb0"]})]},t)}))})]})},f=function(e){var t=e.icon,c=e.data,n=e.text,a=e.bgColor;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"icon-wrapper",style:{backgroundColor:a},children:t}),Object(d.jsxs)("div",{className:"condition-data",children:[Object(d.jsx)("div",{children:c}),Object(d.jsx)("div",{children:n})]})]})},x=c(40),O=c(41),m=c(65),p=function(e){var t=e.color,c=e.value,n=e.Particle;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{style:{fontSize:"1.2em",borderBottom:"2px solid ".concat(t)},children:0==c?"-":c}),Object(d.jsx)("div",{children:n})]})},v=function(e){var t,c,a,i,r=e.city,s="https://api.weatherbit.io/v2.0/current/airquality?city=".concat(r,"&key=5f590d6bda074732b090b04560e647c1"),l=Object(n.useState)(""),j=Object(o.a)(l,2),b=j[0],h=j[1],u=Object(n.useState)(""),f=Object(o.a)(u,2),x=f[0],O=f[1],v=function(e){return e<51?["Good","Air quality is satisfactory, and air pollution poses little or no risk."]:e<101?["Moderate","Air quality is acceptable. However, there may be a risk for some people, particularly those who are unusually sensitive to air pollution."]:e<151?["Unhealthy for sensitive groups","Members of sensitive groups may experience health effects. The general public is less likely to be affected."]:e<201?["Unhealthy","Some members of the general public may experience health effects; members of sensitive groups may experience more serious health effects."]:e<301?["Very Unhealthy","Health alert: The risk of health effects is increased for everyone."]:void 0},y=function(e){return e<.1?"#1cb422":e<5?"rgb(254,254,0)":e>5?"rgb(176,58,117)":"rgba(0,0,0,.4)"},g={datasets:[{data:[1,1,1,1,1,1],backgroundColor:["white","Good"===v(b)[0]?"#1cb422":"#f3f3f3","Moderate"===v(b)[0]?"rgb(254,254,0)":"#f3f3f3","Unhealthy for sensitive groups"===v(b)[0]?"rgb(255,126,0)":"#f3f3f3","Unhealthy"===v(b)[0]?"rgb(255,21,21)":"#f3f3f3","Very Unhealthy"===v(b)[0]?"rgb(176,58,117)":"#f3f3f3"],borderWidth:0,rotation:150}]};return Object(n.useEffect)((function(){fetch(s).then((function(e){return e.json()})).then((function(e){h(e.data[0].aqi),O(e.data[0]),console.log(e)}))}),[r]),Object(d.jsxs)("div",{className:"air-quality-container",children:[Object(d.jsx)("h2",{children:"Air Quality"}),Object(d.jsxs)("div",{className:"air-quality",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"icon-wrapper",children:[Object(d.jsx)(m.a,{data:g,options:{cutout:"85%",events:[],plugins:{tooltip:{enabled:!1}}}}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{style:{fontWeight:"600",fontSize:"1.2em"},children:b}),Object(d.jsx)("div",{style:{fontSize:".7em",fontWeight:"600",opacity:".5"},children:"AQI"})]})]}),Object(d.jsxs)("div",{className:"condition-data",children:[Object(d.jsx)("div",{children:v(b)[0]}),Object(d.jsx)("div",{children:v(b)[1]})]})]}),Object(d.jsxs)("div",{style:{width:"100%"},children:[Object(d.jsx)(p,{Particle:"PM25",value:Math.round(x.pm25),color:(i=x.pm25,i<12?"#1cb422":i<36?"rgb(254,254,0)":i<56?"rgb(255,126,0)":i<151?"rgb(255,21,21)":i<424?"rgb(176,58,117)":"rgba(0,0,0,.4)")}),Object(d.jsx)(p,{Particle:"PM10",value:Math.round(x.pm10),color:(a=x.pm10,a<54?"#1cb422":a<154?"rgb(254,254,0)":a<254?"rgb(255,126,0)":a<354?"rgb(255,21,21)":a<424?"rgb(176,58,117)":"rgba(0,0,0,.4)")}),Object(d.jsx)(p,{Particle:"SO2",value:(x.so2/1e3).toFixed(2),color:(c=(x.so2/1e3).toFixed(2),c<.1?"#1cb422":c<.2?"rgb(254,254,0)":c<1?"rgb(255,126,0)":c<3?"rgb(255,21,21)":c<5?"rgb(176,58,117)":"rgba(0,0,0,.4)")}),Object(d.jsx)(p,{Particle:"NO2",value:(x.no2/1e3).toFixed(2),color:y((x.no2/1e3).toFixed(2))}),Object(d.jsx)(p,{Particle:"O3",value:(x.o3/1e3).toFixed(2),color:y((x.o3/1e3).toFixed(2))}),Object(d.jsx)(p,{Particle:"CO",value:(x.co/1e3).toFixed(2),color:(t=(x.co/1e3).toFixed(2),t<9?"#1cb422":t<10?"rgb(254,254,0)":t>=10?"rgb(176,58,117)":"rgba(0,0,0,.4)")})]})]})]})},y=function(e){var t=e.data,c=t.forecast.forecastday[0],a=Object(n.useState)("Tehran, Iran"),i=Object(o.a)(a,2),r=i[0],l=i[1];return Object(n.useEffect)((function(){l(t.location.name)}),[t]),Object(d.jsxs)("div",{className:"conditions-container",children:[Object(d.jsx)("h2",{children:"Conditions"}),Object(d.jsxs)("div",{className:"conditions",children:[Object(d.jsx)(f,{icon:Object(d.jsx)(s.i,{size:18,style:{color:"#42cc6a"}}),data:"".concat(Math.round(t.current.wind_kph)," km/h"),text:"Wind",bgColor:"#aff5b1"}),Object(d.jsx)(f,{icon:Object(d.jsx)(x.b,{size:30,style:{color:"#43a4e4"}}),data:"".concat(c.day.daily_chance_of_rain,"%"),text:"Rain",bgColor:"#add6f5"}),Object(d.jsx)(f,{icon:Object(d.jsx)(x.a,{size:30,color:"#adafb6"}),data:"".concat(t.current.humidity,"%"),text:"Humidity",bgColor:"#eeeeee"}),Object(d.jsx)(f,{icon:Object(d.jsx)(s.f,{size:20,color:"#ddb458"}),data:t.current.uv,text:"UV Index",bgColor:"#f7ddac"}),Object(d.jsx)(f,{icon:Object(d.jsx)(O.a,{size:30,color:"#E68319"}),data:c.astro.sunrise.slice(0,5),text:"Sunrise"}),Object(d.jsx)(f,{icon:Object(d.jsx)(O.b,{size:30,color:"#F2A807"}),data:c.astro.sunset.slice(0,5),text:"Sunset"}),Object(d.jsx)(v,{city:r})]})]})},g=function(e){var t=e.data,c=e.tempUnit;return Object(d.jsxs)("div",{className:"data",children:[Object(d.jsx)(h,{data:t,tempUnit:c}),Object(d.jsxs)("div",{className:"flex-wrapper",children:[Object(d.jsx)(u,{data:t,tempUnit:c}),Object(d.jsx)(y,{data:t,tempUnit:c})]})]})},N=function(e){var t=e.data,c=e.tempUnit,n=t.forecast.forecastday[0],a=b()(t.location.localtime,"YYYY-MM-DD HH:mm").format("dddd, MMM DD, YYYY");return Object(d.jsxs)("div",{className:"current",children:[Object(d.jsxs)("div",{className:"current-temp",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:t.current.condition.icon,alt:"icon"})}),Object(d.jsx)("div",{children:Object(d.jsxs)("h1",{children:[Math.round(t.current["temp_".concat(c)]),"\xb0",c.toUpperCase()]})})]}),Object(d.jsx)("div",{className:"condition",children:t.current.condition.text}),Object(d.jsx)("div",{children:a}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{children:[Object(d.jsx)(s.b,{})," ",Math.round(n.day["maxtemp_".concat(c)]),"\xb0"]}),"\xa0\xa0\xa0",Object(d.jsxs)("span",{children:[Object(d.jsx)(s.a,{})," ",Math.round(n.day["mintemp_".concat(c)]),"\xb0"]})]})]})};var M=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),r=Object(o.a)(i,2),s=r[0],j=r[1],b=Object(n.useState)([]),h=Object(o.a)(b,2),u=h[0],f=h[1],x=Object(n.useState)("c"),O=Object(o.a)(x,2),m=O[0],p=O[1];Object(n.useEffect)((function(){var e=function(){v("tehran")};navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){y(e.coords.latitude,e.coords.longitude)}),(function(t){console.error(t),e()}),{enableHighAccuracy:!0}):e()}),[]);var v=function(e){fetch("https://weatherapi-com.p.rapidapi.com/forecast.json?q=".concat(e,"&days=3"),{method:"GET",headers:{"x-rapidapi-key":"3927819375mshd44cfb360819a63p12aeabjsn863dc422f8df","x-rapidapi-host":"weatherapi-com.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){j(e)})).catch((function(e){console.error(e)}))},y=function(e,t){fetch("https://weatherapi-com.p.rapidapi.com/forecast.json?q=".concat(e,"%2C").concat(t,"&days=3"),{method:"GET",headers:{"x-rapidapi-key":"3927819375mshd44cfb360819a63p12aeabjsn863dc422f8df","x-rapidapi-host":"weatherapi-com.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){j(e)}))};return s?Object(d.jsxs)("div",{className:"app",onClick:function(e){return console.log(e)},children:[Object(d.jsxs)("div",{className:"background",children:[Object(d.jsxs)("header",{children:[Object(d.jsx)(l,{data:s,city:c,matches:u,handleBlur:function(e){a(""),setTimeout((function(){f([])}),200)},handleChange:function(e){e.length>3?fetch("https://weatherapi-com.p.rapidapi.com/search.json?q=".concat(e),{method:"GET",headers:{"x-rapidapi-key":"3927819375mshd44cfb360819a63p12aeabjsn863dc422f8df","x-rapidapi-host":"weatherapi-com.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){f(e)})):f([]),a(e)},handleClick:function(e){a(e.target.textContent),v(e.target.textContent),f([]),setTimeout((function(){a("")}),2e3)}}),Object(d.jsxs)("div",{className:"temp-unit",children:[Object(d.jsx)("button",{className:"f"===m?"active":"",onClick:function(){return p("f")},children:"F"}),Object(d.jsx)("button",{className:"c"===m?"active":"",onClick:function(){return p("c")},children:"C"})]})]}),Object(d.jsx)(N,{data:s,tempUnit:m})]}),Object(d.jsx)(g,{data:s,tempUnit:m})]}):Object(d.jsx)("div",{children:"loading..."})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,179)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root")),C()},70:function(e,t,c){}},[[178,1,2]]]);
//# sourceMappingURL=main.82fa41f8.chunk.js.map