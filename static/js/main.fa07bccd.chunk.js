(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{199:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),i=c(73),o=c.n(i),s=(c(90),c(7)),r=c(85),d=c(6),l=c(1),j=function(e){var t=e.city,c=e.handleChange,a=e.matches,i=e.handleClick,o=e.handleBlur,r=e.data,j=Object(n.useState)("no-border"),h=Object(s.a)(j,2),u=h[0],b=h[1];return Object(l.jsxs)("div",{className:"search-container",children:[Object(l.jsx)("button",{className:"search-button",onClick:function(){b("border"===u?"no-border":"border")},children:Object(l.jsx)(d.e,{className:"icon",size:15})}),Object(l.jsxs)("div",{className:"search",children:[Object(l.jsx)("input",{type:"text",value:t,placeholder:"".concat(r.location.name,", ").concat(r.location.country),className:u,onChange:function(e){return c(e.target.value)},onBlur:function(){return o()}}),Object(l.jsx)("button",{className:"clear-button",onClick:function(){return o()},children:Object(l.jsx)(d.g,{size:13})}),a&&Object(l.jsx)("div",{className:"matches-container",children:a.map((function(e,t){return Object(l.jsx)("div",{onClick:function(e){return i(e)},children:e.name},t)}))})]})]})},h=c(17),u=c.n(h),b=function(e){var t=e.data,c=e.tempUnit,n=t.forecast.forecastday[0],a=u()(t.location.localtime,"YYYY-MM-DD HH:mm").format("dddd, MMM DD, YYYY");return Object(l.jsxs)("div",{className:"current",children:[Object(l.jsxs)("div",{className:"temp",children:[Object(l.jsx)("div",{className:"icon",children:Object(l.jsx)("img",{src:t.current.condition.icon,alt:"icon"})}),Object(l.jsx)("div",{children:Object(l.jsxs)("h1",{children:[Math.round(t.current["temp_".concat(c)]),"\xb0",c.toUpperCase()]})})]}),Object(l.jsx)("div",{className:"condition",children:t.current.condition.text}),Object(l.jsx)("div",{className:"date",children:a}),Object(l.jsxs)("div",{className:"min-max",children:[Object(l.jsxs)("span",{children:[Object(l.jsx)(d.b,{})," ",Math.round(n.day["maxtemp_".concat(c)]),"\xb0"]}),"\xa0\xa0\xa0",Object(l.jsxs)("span",{children:[Object(l.jsx)(d.a,{})," ",Math.round(n.day["mintemp_".concat(c)]),"\xb0"]})]})]})},f=function(e){var t=e.data,c=e.tempUnit,n=t.forecast.forecastday[0].hour,a=t.forecast.forecastday[1].hour,i=u()(t.location.localtime,"YYYY-MM-DD HH:mm").format("HH");return Object(l.jsxs)("div",{className:"hourly-container",children:[Object(l.jsx)("h2",{children:"Hourly"}),Object(l.jsxs)("div",{className:"scroll-container",children:[Object(l.jsx)("button",{onClick:function(){document.querySelector(".hourly")&&(document.querySelector(".hourly").scrollLeft-=450)},children:Object(l.jsx)(d.c,{})}),Object(l.jsxs)("div",{className:"hourly",children:[n.map((function(e,t){return Object(l.jsxs)("div",{className:"hour",children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{alt:"condition",src:e.condition.icon})}),Object(l.jsxs)("div",{className:"temp",children:[Math.round(e["temp_".concat(c)]),"\xb0"]}),Object(l.jsx)("div",{className:"time",children:t===i?"Now":12===t?"12PM":t<12?t+"AM":t-12+"PM"})]},t)})).filter((function(e,t){return t>=i})),a.map((function(e,t){return Object(l.jsxs)("div",{className:"hour",children:[Object(l.jsx)("div",{children:Object(l.jsx)("img",{alt:"condition",src:e.condition.icon})}),Object(l.jsxs)("div",{className:"temp",children:[Math.round(e["temp_".concat(c)]),"\xb0"]}),Object(l.jsx)("div",{className:"time",children:12===t?"12PM":0===t?"12AM":t<12?t+"AM":t-12+"PM"})]},t)})).filter((function(e,t){return t<i}))]}),Object(l.jsx)("button",{onClick:function(){document.querySelector(".hourly")&&(document.querySelector(".hourly").scrollLeft+=450)},children:Object(l.jsx)(d.d,{})})]})]})},m=function(e){var t=e.data,c=e.tempUnit,n=t.forecast.forecastday.slice(1);n.push(t.forecast.forecastday[1]),n.push(t.forecast.forecastday[0]),n.push(t.forecast.forecastday[2]);var a=u()(t.location.localtime,"YYYY-MM-DD HH:mm");return Object(l.jsxs)("div",{className:"daily-container",children:[Object(l.jsx)("h2",{children:"Daily"}),Object(l.jsx)("div",{className:"daily",children:n.map((function(e,t){return Object(l.jsxs)("div",{className:"day",children:[Object(l.jsx)("div",{className:"icon",children:Object(l.jsx)("img",{alt:"condition",src:e.day.condition.icon})}),Object(l.jsxs)("div",{className:"date-and-condition",children:[Object(l.jsx)("div",{className:"date",children:a.clone().add(t+1,"d").format("dddd")}),Object(l.jsx)("div",{className:"condition",children:e.day.condition.text})]}),Object(l.jsxs)("div",{className:"rain",style:{visibility:e.day.daily_chance_of_rain>0?"visible":"hidden"},children:[Object(l.jsx)(d.h,{className:"rain"}),e.day.daily_chance_of_rain,"%"]}),Object(l.jsxs)("div",{className:"min-max",children:[Object(l.jsxs)("span",{children:[Math.round(e.day["mintemp_".concat(c)]),"\xb0"]}),"\xa0",Math.round(e.day["maxtemp_".concat(c)]),"\xb0"]})]},t)}))})]})},x=c(49),p=c.n(x),O=c(81),v=function(e){var t=e.icon,c=e.data,n=e.text,a=e.bgColor;return Object(l.jsxs)("div",{className:"condition",children:[Object(l.jsx)("div",{className:"icon-wrapper",style:{backgroundColor:a},children:t}),Object(l.jsxs)("div",{className:"condition-data",children:[Object(l.jsx)("div",{children:c}),Object(l.jsx)("div",{className:"label",children:n})]})]})},y=c(5),g=c(11),N=c(84),w=function(e){var t=e.color,c=e.value,n=e.Particle;return Object(l.jsxs)("div",{className:"particle",children:[Object(l.jsx)("div",{style:{fontSize:"1.2em",borderBottom:"2px solid ".concat(t)},children:c}),Object(l.jsx)("div",{children:n})]})},k=function(e){var t,c,n=e.quality,a=n.aqi||"-",i="#1cb422",o="rgb(254,254,0)",s="rgb(255,126,0)",r="rgb(255,21,21)",d="rgb(176,58,117)",j="rgba(0,0,0,.4)",h="#f3f3f3",u=["pm25","pm10","co","no2","o3"].reduce((function(e,t){var c;return Object(g.a)(Object(g.a)({},e),{},Object(y.a)({},t,(null===(c=n.iaqi)||void 0===c?void 0:c[t])?n.iaqi[t].v:"-"))}),{}),b=function(e){return e<51&&["Good","Air quality is satisfactory, and air pollution poses little or no risk."]||e<101&&["Moderate","Air quality is acceptable, there may be a risk for  those who are sensitive to air pollution."]||e<151&&["Unhealthy for sensitive groups","Members of sensitive groups may experience health effects."]||e<201&&["Unhealthy for sensitive groups","Members of sensitive groups may experience health effects."]||e<301&&["Very Unhealthy","Health alert: The risk of health effects is increased for everyone."]||["Air quality index for this city is not available right now","Data not available"]},f=function(e){return e<51&&i||e<101&&o||e<151&&s||e<201&&r||e<301&&d||j},m={datasets:[{data:[1,1,1,1,1,1],backgroundColor:["white","Good"===b(a)[0]?i:h,"Moderate"===b(a)[0]?o:h,"Unhealthy for sensitive groups"===b(a)[0]?s:h,"Unhealthy"===b(a)[0]?r:h,"Very Unhealthy"===b(a)[0]?d:h],borderWidth:0,rotation:150}]};return Object(l.jsxs)("div",{className:"air-quality-container",children:[Object(l.jsx)("h2",{children:"Air Quality"}),Object(l.jsxs)("div",{className:"air-quality",children:[Object(l.jsxs)("div",{className:"quality-index",children:[Object(l.jsxs)("div",{className:"icon-wrapper",children:[Object(l.jsx)(N.a,{data:m,options:{cutout:"85%",events:[],plugins:{tooltip:{enabled:!1}}}}),Object(l.jsxs)("div",{className:"donut-overlay",children:[Object(l.jsx)("div",{className:"index",children:a}),Object(l.jsx)("div",{className:"label",children:"AQI"})]})]}),Object(l.jsxs)("div",{className:"index-data",children:[Object(l.jsx)("div",{className:"index-label",children:b(a)[0]}),Object(l.jsx)("div",{className:"index-text",children:b(a)[1]})]})]}),Object(l.jsxs)("div",{className:"particles",children:[Object(l.jsx)(w,{Particle:"pm25",value:u.pm25,color:f(u.pm25)}),Object(l.jsx)(w,{Particle:"pm10",value:u.pm10,color:(c=u.pm10,c<40&&i||c<80&&o||c<120&&s||c<300&&r||c>=300&&d||j)}),Object(l.jsx)(w,{Particle:"no2",value:u.no2,color:f(u.no2)}),Object(l.jsx)(w,{Particle:"O3",value:u.o3,color:f(u.o3)}),Object(l.jsx)(w,{Particle:"CO",value:u.co,color:(t=u.co,t<9&&i||t<10&&o||t>=10&&s||j)})]})]})]})},C=c(51),M=c(52),q=function(e){var t=e.data,c=t.forecast.forecastday[0],a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],r=i[1];return Object(n.useEffect)((function(){function e(){return(e=Object(O.a)(p.a.mark((function e(){var c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.waqi.info/feed/".concat(t.location.name,"/?token=59279c91ec4c2ff95a7957e57269b2540e194f9a")).then((function(e){return e.json()}));case 2:return c=e.sent,e.next=5,fetch("https://api.waqi.info/feed/".concat(t.location.region,"/?token=59279c91ec4c2ff95a7957e57269b2540e194f9a")).then((function(e){return e.json()}));case 5:n=e.sent,r("ok"===c.status&&c.data||"ok"===n.status&&n.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(l.jsxs)("div",{className:"conditions-container",children:[Object(l.jsx)("h2",{children:"Conditions"}),Object(l.jsxs)("div",{className:"conditions",children:[Object(l.jsx)(v,{icon:Object(l.jsx)(d.i,{size:18,style:{color:"#42cc6a"}}),data:"".concat(Math.round(t.current.wind_kph)," km/h"),text:"Wind",bgColor:"#aff5b1"}),Object(l.jsx)(v,{icon:Object(l.jsx)(C.b,{size:30,style:{color:"#43a4e4"}}),data:"".concat(c.day.daily_chance_of_rain,"%"),text:"Rain",bgColor:"#add6f5"}),Object(l.jsx)(v,{icon:Object(l.jsx)(C.a,{size:30,color:"#adafb6"}),data:"".concat(t.current.humidity,"%"),text:"Humidity",bgColor:"#eeeeee"}),Object(l.jsx)(v,{icon:Object(l.jsx)(d.f,{size:20,color:"#ddb458"}),data:t.current.uv,text:"UV Index",bgColor:"#f7ddac"}),Object(l.jsx)(v,{icon:Object(l.jsx)(M.a,{size:30,color:"#E68319"}),data:c.astro.sunrise.slice(0,5),text:"Sunrise"}),Object(l.jsx)(v,{icon:Object(l.jsx)(M.b,{size:30,color:"#F2A807"}),data:c.astro.sunset.slice(0,5),text:"Sunset"}),Object(l.jsx)(k,{quality:o})]})]})};var S=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),d=o[0],h=o[1],u=Object(n.useState)([]),x=Object(s.a)(u,2),p=x[0],O=x[1],v=Object(n.useState)("c"),y=Object(s.a)(v,2),g=y[0],N=y[1];Object(n.useEffect)((function(){var e=function(){w("tehran")};navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){k(e.coords.latitude,e.coords.longitude)}),(function(t){console.error(t),e()}),{enableHighAccuracy:!0}):e()}),[]);var w=function(e){fetch("https://weatherapi-com.p.rapidapi.com/forecast.json?q=".concat(e,"&days=3"),{method:"GET",headers:{"x-rapidapi-key":"3927819375mshd44cfb360819a63p12aeabjsn863dc422f8df","x-rapidapi-host":"weatherapi-com.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){h(e)})).catch((function(e){console.error(e)}))},k=function(e,t){fetch("https://weatherapi-com.p.rapidapi.com/forecast.json?q=".concat(e,"%2C").concat(t,"&days=3"),{method:"GET",headers:{"x-rapidapi-key":"3927819375mshd44cfb360819a63p12aeabjsn863dc422f8df","x-rapidapi-host":"weatherapi-com.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){h(e)}))};return d?Object(l.jsxs)("div",{className:"app",children:[Object(l.jsxs)("div",{className:"background",children:[Object(l.jsxs)("header",{children:[Object(l.jsx)(j,{data:d,city:c,matches:p,handleBlur:function(e){a(""),setTimeout((function(){O([])}),200)},handleChange:function(e){e.length>3?fetch("https://weatherapi-com.p.rapidapi.com/search.json?q=".concat(e),{method:"GET",headers:{"x-rapidapi-key":"3927819375mshd44cfb360819a63p12aeabjsn863dc422f8df","x-rapidapi-host":"weatherapi-com.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){O(e)})):O([]),a(e)},handleClick:function(e){a(e.target.textContent),w(e.target.textContent),O([]),setTimeout((function(){a("")}),2e3)}}),Object(l.jsxs)("div",{className:"temp-unit",children:[Object(l.jsx)("button",{className:"f"===g?"active":"",onClick:function(){return N("f")},children:"F"}),Object(l.jsx)("button",{className:"c"===g?"active":"",onClick:function(){return N("c")},children:"C"})]})]}),Object(l.jsx)(b,{data:d,tempUnit:g})]}),Object(l.jsxs)("div",{className:"data",children:[Object(l.jsx)(f,{data:d,tempUnit:g}),Object(l.jsxs)("div",{className:"flex-wrapper",children:[Object(l.jsx)(m,{data:d,tempUnit:g}),Object(l.jsx)(q,{data:d,tempUnit:g})]})]})]}):Object(l.jsx)("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(l.jsx)(r.a,{size:100})})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,200)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),i(e),o(e)}))},_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var c=e.installing;null!=c&&(c.onstatechange=function(){"installed"===c.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");_?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(c){var n=c.headers.get("content-type");404===c.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Y(t,e)}))}}(),U()},90:function(e,t,c){}},[[199,1,2]]]);
//# sourceMappingURL=main.fa07bccd.chunk.js.map